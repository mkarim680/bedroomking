/*
Generated time: June 22, 2024 06:16
This file was created by the app developer. Feel free to contact the original developer with any questions. It was minified (compressed) by AVADA. AVADA do NOT own this script.
*/
function loadScript(i){return new Promise((e,t)=>{var s=document.createElement("script");s.src=i,s.onload=e,s.onerror=t,document.body.appendChild(s)})}if(!customElements.get("cart-drawer-disclosure")){class e extends DetailsDisclosure{constructor(){super(),this.openBtn=this.querySelector("summary"),this.closeBtn=this.querySelector(".js-close"),this.overlay=document.getElementById("cart-drawer").querySelector(".overlay")}handleClick(e){e.target.matches(".js-close")&&this.close()}open(){this.overlay.classList.add("is-visible"),super.open(),trapFocus(this),this.clickHandler=this.clickHandler||this.handleClick.bind(this),this.keyupHandler=e=>"Escape"===e.key&&this.close(),this.addEventListener("click",this.clickHandler),this.addEventListener("keyup",this.keyupHandler),this.overlay.addEventListener("click",this.clickHandler)}close(){this.overlay.classList.remove("is-visible"),super.close(),removeTrapFocus(this.openBtn),this.removeEventListener("click",this.clickHandler),this.removeEventListener("keyup",this.keyupHandler),this.overlay.removeEventListener("click",this.clickHandler)}}customElements.define("cart-drawer-disclosure",e)}if(!customElements.get("cart-drawer")){class h extends SideDrawer{constructor(){super(),this.init(),this.bindEvents()}disconnectedCallback(){document.removeEventListener("dispatch:cart-drawer:refresh",this.cartRefreshHandler),document.removeEventListener("dispatch:cart-drawer:open",this.openDrawerViaEventHandler),document.removeEventListener("dispatch:cart-drawer:close",this.closeDrawerViaEventHandler),Shopify.designMode&&(document.removeEventListener("shopify:section:select",this.sectionSelectHandler),document.removeEventListener("shopify:section:deselect",this.sectionDeselectHandler))}init(){let t=document.getElementById("cart-icon");t&&(t.setAttribute("role","button"),t.setAttribute("aria-haspopup","dialog"),t.addEventListener("click",e=>{e.preventDefault(),this.open(t)}),t.addEventListener("keydown",e=>{" "===e.key&&(e.preventDefault(),this.open(t))}))}bindEvents(){Shopify.designMode&&(this.sectionSelectHandler=this.handleSectionSelect.bind(this),this.sectionDeselectHandler=this.handleSectionDeselect.bind(this),document.addEventListener("shopify:section:select",this.sectionSelectHandler),document.addEventListener("shopify:section:deselect",this.sectionDeselectHandler)),this.openDrawerViaEventHandler=this.handleDrawerOpenViaEvent.bind(this),this.closeDrawerViaEventHandler=this.close.bind(this,null),document.addEventListener("dispatch:cart-drawer:open",this.openDrawerViaEventHandler),document.addEventListener("dispatch:cart-drawer:close",this.closeDrawerViaEventHandler)}handleSectionSelect(e){e.target===this.closest(".shopify-section")&&this.open()}handleSectionDeselect(e){e.target===this.closest(".shopify-section")&&this.close()}handleDrawerOpenViaEvent(e){this.open(e.detail?e.detail.opener:null)}open(e,t,s){var i=document.querySelector('quick-add-drawer[aria-hidden="false"]');let r=document.querySelector(".js-overlay.is-visible");i&&(r&&(r.style.transitionDelay="200ms"),i.close()),setTimeout(()=>{super.open(e,t,s),r&&(r.style.transitionDelay="")},i?200:0)}async renderContents(s,e=!0){this.scriptsLoaded||(document.querySelector(`script[src="${theme.scripts.cartItems}"]`)||await loadScript(theme.scripts.cartItems),!document.querySelector(`script[src="${theme.scripts.shippingCalculator}"]`)&&this.dataset.shippingCalculator&&(await loadScript(theme.scripts.countryProvinceSelector),await loadScript(theme.scripts.shippingCalculator)),this.scriptsLoaded=!0),this.getSectionsToRender().forEach(e=>{var t=document.getElementById(e.id);t&&(t.innerHTML=h.getElementHTML(s.sections[e.section],e.selector))}),e&&null===this.getAttribute("open")&&setTimeout(()=>this.open())}getSectionsToRender(){return[{id:"cart-drawer",section:this.closest(".shopify-section").id.replace("shopify-section-",""),selector:"cart-drawer"},{id:"cart-icon-bubble",section:"cart-icon-bubble",selector:".shopify-section"}]}static getElementHTML(e,t){var s=document.createElement("template");return s.innerHTML=e,s.content.querySelector(t).innerHTML}}customElements.define("cart-drawer",h)}